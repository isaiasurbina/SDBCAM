(self.webpackChunkSDB_CAM=self.webpackChunkSDB_CAM||[]).push([[1553],{989:function(n,t,e){"use strict";var o,i,a;e.d(t,{oK:function(){return o},GW:function(){return i},dk:function(){return a}}),function(n){n.Prompt="PROMPT",n.Camera="CAMERA",n.Photos="PHOTOS"}(o||(o={})),function(n){n.Rear="REAR",n.Front="FRONT"}(i||(i={})),function(n){n.Uri="uri",n.Base64="base64",n.DataUrl="dataUrl"}(a||(a={}))},5310:function(n,t,e){"use strict";var o;e.d(t,{xz:function(){return i},Uw:function(){return c},fo:function(){return s}}),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global&&global,function(n){n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE"}(o||(o={}));class i extends Error{constructor(n,t){super(n),this.message=n,this.code=t}}const a=n=>{var t,e;return(null==n?void 0:n.androidBridge)?"android":(null===(e=null===(t=null==n?void 0:n.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===e?void 0:e.bridge)?"ios":"web"},r=(n=>n.Capacitor=(n=>{var t,e,r,s,c;const l=n.Capacitor||{},u=l.Plugins=l.Plugins||{},d=n.CapacitorPlatforms,m=(null===(t=null==d?void 0:d.currentPlatform)||void 0===t?void 0:t.getPlatform)||(()=>a(n)),g=(null===(e=null==d?void 0:d.currentPlatform)||void 0===e?void 0:e.isNativePlatform)||(()=>"web"!==a(n)),f=(null===(r=null==d?void 0:d.currentPlatform)||void 0===r?void 0:r.isPluginAvailable)||(n=>{const t=Z.get(n);return!!(null==t?void 0:t.platforms.has(m()))||!!p(n)}),p=(null===(s=null==d?void 0:d.currentPlatform)||void 0===s?void 0:s.getPluginHeader)||(n=>{var t;return null===(t=l.PluginHeaders)||void 0===t?void 0:t.find(t=>t.name===n)}),Z=new Map,h=(null===(c=null==d?void 0:d.currentPlatform)||void 0===c?void 0:c.registerPlugin)||((n,t={})=>{const e=Z.get(n);if(e)return console.warn(`Capacitor plugin "${n}" already registered. Cannot register plugins twice.`),e.proxy;const a=m(),r=p(n);let s;const c=e=>{let c;const u=(...u)=>{const d=(async()=>(!s&&a in t&&(s=s="function"==typeof t[a]?await t[a]():t[a]),s))().then(t=>{const s=((t,e)=>{var s,c;if(!r){if(t)return null===(c=t[e])||void 0===c?void 0:c.bind(t);throw new i(`"${n}" plugin is not implemented on ${a}`,o.Unimplemented)}{const o=null==r?void 0:r.methods.find(n=>e===n.name);if(o)return"promise"===o.rtype?t=>l.nativePromise(n,e.toString(),t):(t,o)=>l.nativeCallback(n,e.toString(),t,o);if(t)return null===(s=t[e])||void 0===s?void 0:s.bind(t)}})(t,e);if(s){const n=s(...u);return c=null==n?void 0:n.remove,n}throw new i(`"${n}.${e}()" is not implemented on ${a}`,o.Unimplemented)});return"addListener"===e&&(d.remove=async()=>c()),d};return u.toString=()=>`${e.toString()}() { [capacitor code] }`,Object.defineProperty(u,"name",{value:e,writable:!1,configurable:!1}),u},d=c("addListener"),g=c("removeListener"),f=(n,t)=>{const e=d({eventName:n},t),o=async()=>{const o=await e;g({eventName:n,callbackId:o},t)},i=new Promise(n=>e.then(()=>n({remove:o})));return i.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await o()},i},h=new Proxy({},{get(n,t){switch(t){case"$$typeof":return;case"addListener":return r?f:d;case"removeListener":return g;default:return c(t)}}});return u[n]=h,Z.set(n,{name:n,proxy:h,platforms:new Set([...Object.keys(t),...r?[a]:[]])}),h});return l.convertFileSrc||(l.convertFileSrc=n=>n),l.getPlatform=m,l.handleError=t=>n.console.error(t),l.isNativePlatform=g,l.isPluginAvailable=f,l.pluginMethodNoop=(n,t,e)=>Promise.reject(`${e} does not have an implementation of "${t}".`),l.registerPlugin=h,l.Exception=i,l.DEBUG=!!l.DEBUG,l.isLoggingEnabled=!!l.isLoggingEnabled,l.platform=l.getPlatform(),l.isNative=l.isNativePlatform(),l})(n))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),s=r.registerPlugin;class c{constructor(n){this.listeners={},this.windowListeners={},n&&(console.warn(`Capacitor WebPlugin "${n.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=n)}addListener(n,t){this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push(t);const e=this.windowListeners[n];e&&!e.registered&&this.addWindowListener(e);const o=async()=>this.removeListener(n,t),i=Promise.resolve({remove:o});return Object.defineProperty(i,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await o()}}),i}async removeAllListeners(){this.listeners={};for(const n in this.windowListeners)this.removeWindowListener(this.windowListeners[n]);this.windowListeners={}}notifyListeners(n,t){const e=this.listeners[n];e&&e.forEach(n=>n(t))}hasListeners(n){return!!this.listeners[n].length}registerWindowListener(n,t){this.windowListeners[t]={registered:!1,windowEventName:n,pluginEventName:t,handler:n=>{this.notifyListeners(t,n)}}}unimplemented(n="not implemented"){return new r.Exception(n,o.Unimplemented)}unavailable(n="not available"){return new r.Exception(n,o.Unavailable)}async removeListener(n,t){const e=this.listeners[n];if(!e)return;const o=e.indexOf(t);this.listeners[n].splice(o,1),this.listeners[n].length||this.removeWindowListener(this.windowListeners[n])}addWindowListener(n){window.addEventListener(n.windowEventName,n.handler),n.registered=!0}removeWindowListener(n){n&&(window.removeEventListener(n.windowEventName,n.handler),n.registered=!1)}}},1553:function(n,t,e){"use strict";e.r(t),e.d(t,{ContactoPageModule:function(){return J}});var o=e(1116),i=e(1462),a=e(8809),r=e(6393),s=e(4762),c=e(5310),l=e(989);const u=(0,c.fo)("Camera",{web:()=>e.e(8586).then(e.bind(e,8586)).then(n=>new n.CameraWeb)});var d=e(8619),m=e(3957),g=e(7354);function f(n,t){if(1&n){const n=d.EpF();d.TgZ(0,"ion-fab-button",15),d.NdJ("click",function(){d.CHM(n);const t=d.oxw();return t.frmEdit(t.contacto.id)}),d._UZ(1,"ion-icon",16),d.qZA()}}function p(n,t){1&n&&(d.TgZ(0,"ion-avatar",17),d._UZ(1,"img",18),d.qZA())}function Z(n,t){if(1&n&&(d.TgZ(0,"ion-avatar",17),d._UZ(1,"img",19),d.qZA()),2&n){const n=d.oxw();d.xp6(1),d.s9C("src",n.contacto.avatar,d.LSH)}}function h(n,t){if(1&n&&(d.TgZ(0,"ion-item"),d._UZ(1,"ion-icon",21),d.TgZ(2,"ion-label"),d.TgZ(3,"ion-text"),d._uU(4),d.qZA(),d.TgZ(5,"p"),d._uU(6,"Mobil"),d.qZA(),d.qZA(),d.qZA()),2&n){const n=d.oxw(2);d.xp6(4),d.Oqu(n.contacto.mobile)}}function v(n,t){if(1&n&&(d.TgZ(0,"ion-item"),d._UZ(1,"ion-icon",22),d.TgZ(2,"ion-label"),d.TgZ(3,"ion-text"),d._uU(4),d.qZA(),d.TgZ(5,"p"),d._uU(6,"Tel\xe9fono fijo"),d.qZA(),d.qZA(),d.qZA()),2&n){const n=d.oxw(2);d.xp6(4),d.Oqu(n.contacto.phone)}}function w(n,t){if(1&n&&(d.TgZ(0,"ion-item"),d._UZ(1,"ion-icon",23),d.TgZ(2,"ion-label",11),d._uU(3),d.TgZ(4,"p"),d._uU(5,"Email 1"),d.qZA(),d.qZA(),d.qZA()),2&n){const n=d.oxw(2);d.xp6(3),d.hij(" ",n.contacto.email_1," ")}}function _(n,t){if(1&n&&(d.TgZ(0,"ion-item"),d._UZ(1,"ion-icon",23),d.TgZ(2,"ion-label"),d.TgZ(3,"ion-text"),d._uU(4),d.qZA(),d.TgZ(5,"p"),d._uU(6,"Email 2"),d.qZA(),d.qZA(),d.qZA()),2&n){const n=d.oxw(2);d.xp6(4),d.Oqu(n.contacto.email_2)}}function A(n,t){if(1&n&&(d.TgZ(0,"section"),d.TgZ(1,"a",20),d.YNc(2,h,7,1,"ion-item",12),d.qZA(),d.TgZ(3,"a",20),d.YNc(4,v,7,1,"ion-item",12),d.qZA(),d.TgZ(5,"a",20),d.YNc(6,w,6,1,"ion-item",12),d.qZA(),d.TgZ(7,"a",20),d.YNc(8,_,7,1,"ion-item",12),d.qZA(),d.qZA()),2&n){const n=d.oxw();d.xp6(1),d.MGl("href","tel:",n.contacto.mobile,"",d.LSH),d.xp6(1),d.Q6J("ngIf",n.contacto.mobile),d.xp6(1),d.MGl("href","tel:",n.contacto.phone,"",d.LSH),d.xp6(1),d.Q6J("ngIf",n.contacto.phone),d.xp6(1),d.MGl("href","mailto:",n.contacto.email_1,"",d.LSH),d.xp6(1),d.Q6J("ngIf",n.contacto.email_1),d.xp6(1),d.MGl("href","mailto:",n.contacto.email_2,"",d.LSH),d.xp6(1),d.Q6J("ngIf",n.contacto.email_2)}}function b(n,t){if(1&n&&(d.TgZ(0,"ion-item"),d._UZ(1,"ion-icon",23),d.TgZ(2,"ion-label"),d.TgZ(3,"ion-text"),d._uU(4),d.qZA(),d.TgZ(5,"p"),d._uU(6,"Casa Asignada"),d.qZA(),d.qZA(),d.qZA()),2&n){const n=d.oxw();d.xp6(4),d.Oqu(n.contacto.home_name)}}function q(n,t){if(1&n&&(d.TgZ(0,"ion-item"),d.TgZ(1,"ion-label",10),d.TgZ(2,"ion-text"),d._uU(3,"Funciones"),d.qZA(),d.TgZ(4,"p",11),d._uU(5),d.qZA(),d.qZA(),d.qZA()),2&n){const n=d.oxw(2);d.xp6(5),d.hij(" ",n.contacto.funciones," ")}}function T(n,t){if(1&n&&(d.TgZ(0,"section"),d.YNc(1,q,6,1,"ion-item",12),d.qZA()),2&n){const n=d.oxw();d.xp6(1),d.Q6J("ngIf",n.contacto.funciones)}}function x(n,t){if(1&n&&(d.TgZ(0,"ion-item"),d.TgZ(1,"ion-avatar",1),d._UZ(2,"img",24),d.qZA(),d.TgZ(3,"ion-label"),d.TgZ(4,"ion-text"),d._uU(5),d.qZA(),d.TgZ(6,"p"),d._uU(7,"Cumplea\xf1os"),d.qZA(),d.qZA(),d.qZA()),2&n){const n=d.oxw();d.xp6(5),d.Oqu(n.contacto.friendlyBday)}}function U(n,t){if(1&n&&(d.TgZ(0,"ion-item"),d.TgZ(1,"ion-avatar",1),d._UZ(2,"img",25),d.qZA(),d.TgZ(3,"ion-label"),d.TgZ(4,"ion-text"),d._uU(5),d.qZA(),d.TgZ(6,"p"),d._uU(7,"Primera Profesion"),d.qZA(),d.qZA(),d.qZA()),2&n){const n=d.oxw();d.xp6(5),d.Oqu(n.contacto.friendly_profession_date)}}function y(n,t){if(1&n&&(d.TgZ(0,"ion-item"),d.TgZ(1,"ion-avatar",1),d._UZ(2,"img",25),d.qZA(),d.TgZ(3,"ion-label"),d.TgZ(4,"ion-text"),d._uU(5),d.qZA(),d.TgZ(6,"p"),d._uU(7,"Orden Sacerdotal"),d.qZA(),d.qZA(),d.qZA()),2&n){const n=d.oxw();d.xp6(5),d.Oqu(n.contacto.friendly_ordination_date)}}function P(n,t){if(1&n&&(d.TgZ(0,"section"),d.TgZ(1,"ion-item"),d.TgZ(2,"ion-avatar",1),d._UZ(3,"img",25),d.qZA(),d.TgZ(4,"ion-label"),d.TgZ(5,"ion-text"),d._uU(6),d.qZA(),d.TgZ(7,"p"),d._uU(8,"Fecha de defuncion"),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&n){const n=d.oxw();d.xp6(6),d.Oqu(n.contacto.friendly_death_date)}}function L(n,t){if(1&n){const n=d.EpF();d.TgZ(0,"ion-item",27),d.NdJ("click",function(){return d.CHM(n),d.oxw(2).takePicture()}),d._UZ(1,"ion-icon",32),d.TgZ(2,"ion-label"),d._uU(3,"Cambiar foto"),d.qZA(),d._UZ(4,"ion-icon",29),d.qZA()}}function k(n,t){if(1&n&&(d.TgZ(0,"ion-item",33),d._UZ(1,"ion-icon",32),d.TgZ(2,"ion-label"),d._uU(3,"Cambiar foto"),d.qZA(),d._UZ(4,"ion-icon",29),d.qZA()),2&n){const n=d.oxw(2);d.s9C("href",n.service+n.updatePhotoURL+n.userToken)}}function N(n,t){if(1&n){const n=d.EpF();d.TgZ(0,"ion-card",26),d.TgZ(1,"ion-list"),d.TgZ(2,"ion-item",27),d.NdJ("click",function(){return d.CHM(n),d.oxw().resetPassword()}),d._UZ(3,"ion-icon",28),d.TgZ(4,"ion-label"),d._uU(5,"Cambiar clave"),d.qZA(),d._UZ(6,"ion-icon",29),d.qZA(),d.YNc(7,L,5,0,"ion-item",30),d.YNc(8,k,5,1,"ion-item",31),d.qZA(),d.qZA()}if(2&n){const n=d.oxw();d.xp6(7),d.Q6J("ngIf",n.isAndroid()),d.xp6(1),d.Q6J("ngIf",!n.isAndroid())}}const I=function(){return["/"]},C=[{path:"",component:(()=>{class n{constructor(n,t,e,o,i,a){this.platform=n,this.rout=t,this.api=e,this.common=o,this.navCtrl=i,this.a_route=a,this.service="",this.updatePhotoURL="../user/update/photo?usrtkn=",this.userToken="",this.api_params={api_token:"",id:0},this.contacto={id:null,user_id:null,firstname:null,lastname:null,nickname:null,birthday:null,profession_date:null,ordination_date:null,email_1:null,email_2:null,country_id:null,mobile:null,phone:null,lifestyle_id:null,home_id:null,profile_pic_id:null,death_date:null,friendly_death_date:null,status:null,deleted_at:null,created_at:null,updated_at:null,fullname:"Cargando...",avatar:null,home_name:null,friendlyBday:null,friendly_profession_date:null,friendly_ordination_date:null,funciones:null}}ngOnInit(){}ionViewWillEnter(){this.common.showloader(),this.userToken=localStorage.getItem("api_token"),this.service=this.common.api_url,this.a_route.queryParams.subscribe(n=>{this.api_params.id=n.id}),this.api.send(this.api_params,"contactos/getOne").subscribe(n=>this.bindContact(n),()=>this.onerror())}bindContact(n){this.common.hideloader(),this.contacto=n}onerror(){this.common.hideloader(),this.common.toasting("Ha ocurrido un error, favor intenta m\xe1s tarde.")}checkuserprofile(n){return n==localStorage.getItem("email")}frmEdit(n){this.rout.navigate(["contacto/edit"],{queryParams:{id:n}})}resetPassword(){this.common.showloader();let n={email:localStorage.getItem("email")};this.api.sendCustom(n,"https://misieri.kyoskio.com/api/user/forgot").subscribe(n=>this.bindResponse(n),()=>this.onerror())}bindResponse(n){this.common.hideloader(),n?this.common.toasting(n.sms,5e3):this.common.toasting("Ha ocurrido un error, favor intenta mas tarde.",2e3)}imageUploadResponse(n){this.common.hideloader(),n?(this.common.toasting(n.sms,5e3),this.contacto.avatar=n.image):this.common.toasting("Ha ocurrido un error, favor intenta mas tarde.",2e3)}takePicture(){return(0,s.mG)(this,void 0,void 0,function*(){const n=yield u.getPhoto({quality:50,allowEditing:!1,resultType:l.dk.Base64});this.getPicture(n.base64String)})}getPicture(n){let t=n,e=localStorage.getItem("email");this.api.sendPost({uid:e,image:t},"https://misieri.kyoskio3.com/api/user/upload/photo").subscribe(n=>this.imageUploadResponse(n),()=>this.onerror())}isAndroid(){return!!this.platform.is("android")}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(a.t4),d.Y36(r.F0),d.Y36(m.s),d.Y36(g.v),d.Y36(a.SH),d.Y36(r.gz))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-contacto"]],decls:29,vars:15,consts:[[3,"translucent"],["slot","start"],["slot","start",1,"home-button-container",3,"routerLink"],["src","assets/icon/favicon.png",1,"home-button"],["slot","end"],["color","tertiary","size","small",3,"click",4,"ngIf"],[1,"bg-sdb"],[1,""],["size","12",1,"ion-text-center"],["class","single-contact-avatar",4,"ngIf"],[1,"ion-text-center"],[1,"ion-text-wrap"],[4,"ngIf"],["class","ion-margin",4,"ngIf"],[1,"divider-transparent"],["color","tertiary","size","small",3,"click"],["name","pencil"],[1,"single-contact-avatar"],["src","assets/contacto-icon.png",1,""],[1,"",3,"src"],["target","_system",3,"href"],["slot","start","name","phone-portrait-outline"],["slot","start","name","call-outline"],["slot","start","name","mail-outline"],["src","assets/cake.png",1,"round-0"],["src","assets/funcion-icon.png",1,"round-0"],[1,"ion-margin"],["button","",3,"click"],["slot","start","name","key-outline"],["slot","end","name","chevron-forward-outline"],["button","",3,"click",4,"ngIf"],[3,"href",4,"ngIf"],["slot","start","name","person-circle-outline"],[3,"href"]],template:function(n,t){1&n&&(d.TgZ(0,"ion-header",0),d.TgZ(1,"ion-toolbar"),d.TgZ(2,"ion-buttons",1),d._UZ(3,"ion-back-button"),d.qZA(),d.TgZ(4,"ion-avatar",2),d._UZ(5,"img",3),d.qZA(),d.TgZ(6,"ion-buttons",4),d.YNc(7,f,2,0,"ion-fab-button",5),d.qZA(),d.qZA(),d.qZA(),d.TgZ(8,"ion-content"),d.TgZ(9,"section",6),d.TgZ(10,"ion-card",7),d.TgZ(11,"ion-card-content"),d.TgZ(12,"ion-row"),d.TgZ(13,"ion-col",8),d.YNc(14,p,2,0,"ion-avatar",9),d.YNc(15,Z,2,1,"ion-avatar",9),d.qZA(),d.qZA(),d.TgZ(16,"ion-row"),d.TgZ(17,"ion-col",10),d.TgZ(18,"h2",11),d._uU(19),d.qZA(),d.qZA(),d.qZA(),d.YNc(20,A,9,8,"section",12),d.YNc(21,b,7,1,"ion-item",12),d.YNc(22,T,2,1,"section",12),d.YNc(23,x,8,1,"ion-item",12),d.YNc(24,U,8,1,"ion-item",12),d.YNc(25,y,8,1,"ion-item",12),d.YNc(26,P,9,1,"section",12),d.qZA(),d.qZA(),d.YNc(27,N,9,2,"ion-card",13),d._UZ(28,"ion-item-divider",14),d.qZA(),d.qZA()),2&n&&(d.Q6J("translucent",!0),d.xp6(4),d.Q6J("routerLink",d.DdM(14,I)),d.xp6(3),d.Q6J("ngIf",t.checkuserprofile(t.contacto.email_1)),d.xp6(7),d.Q6J("ngIf",!t.contacto.avatar),d.xp6(1),d.Q6J("ngIf",t.contacto.avatar),d.xp6(4),d.Oqu(t.contacto.fullname),d.xp6(1),d.Q6J("ngIf",null==t.contacto.death_date),d.xp6(1),d.Q6J("ngIf",t.contacto.home_name),d.xp6(1),d.Q6J("ngIf",null==t.contacto.death_date),d.xp6(1),d.Q6J("ngIf",t.contacto.friendlyBday),d.xp6(1),d.Q6J("ngIf",t.contacto.friendly_profession_date),d.xp6(1),d.Q6J("ngIf",t.contacto.friendly_ordination_date),d.xp6(1),d.Q6J("ngIf",null!=t.contacto.death_date),d.xp6(1),d.Q6J("ngIf",t.checkuserprofile(t.contacto.email_1)))},directives:[a.Gu,a.sr,a.Sm,a.oU,a.cs,a.BJ,a.YI,r.rH,o.O5,a.W2,a.PM,a.FN,a.Nd,a.wI,a.rH,a.W4,a.gu,a.Ie,a.Q$,a.yW,a.q_],styles:[".single-contact-avatar[_ngcontent-%COMP%]{margin:0 auto;width:100%!important;height:100%!important;max-width:200px!important;max-height:200px!important}"]}),n})()},{path:"edit",loadChildren:()=>e.e(2082).then(e.bind(e,2082)).then(n=>n.EditPageModule)}];let E=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[r.Bz.forChild(C)],r.Bz]}),n})(),J=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[o.ez,i.u5,a.Pc,E]]}),n})()}}]);