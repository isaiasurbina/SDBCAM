!function(){function n(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function e(n,e){for(var o=0;o<e.length;o++){var t=e[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}(self.webpackChunkSDB_CAM=self.webpackChunkSDB_CAM||[]).push([[759],{759:function(o,t,i){"use strict";i.r(t),i.d(t,{EditPageModule:function(){return T}});var a=i(1116),l=i(1462),r=i(8809),c=i(6393),s=i(8619),u=i(3957),d=i(7354);function g(n,e){if(1&n&&(s.TgZ(0,"ion-select-option",24),s._uU(1),s.qZA()),2&n){var o=e.$implicit;s.s9C("value",o.id),s.xp6(1),s.Oqu(o.name)}}function h(n,e){if(1&n&&(s.TgZ(0,"ion-select-option",25),s._uU(1),s.qZA()),2&n){var o=e.$implicit;s.s9C("value",o),s.xp6(1),s.Oqu(o)}}function p(n,e){if(1&n&&(s.TgZ(0,"ion-select-option",25),s._uU(1),s.qZA()),2&n){var o=e.$implicit;s.s9C("value",o.value),s.xp6(1),s.Oqu(o.key)}}function m(n,e){if(1&n&&(s.TgZ(0,"ion-select-option",25),s._uU(1),s.qZA()),2&n){var o=e.$implicit;s.s9C("value",o),s.xp6(1),s.Oqu(o)}}function f(n,e){if(1&n&&(s.TgZ(0,"ion-select-option",24),s._uU(1),s.qZA()),2&n){var o=e.$implicit;s.s9C("value",o.id),s.xp6(1),s.Oqu(o.text)}}function Z(n,e){if(1&n&&(s.TgZ(0,"ion-select-option",24),s._uU(1),s.qZA()),2&n){var o=e.$implicit;s.s9C("value",o.id),s.xp6(1),s.Oqu(o.text)}}function _(n,e){if(1&n&&(s.TgZ(0,"ion-select-option",24),s._uU(1),s.qZA()),2&n){var o=e.$implicit;s.s9C("value",o.id),s.xp6(1),s.Oqu(o.text)}}function v(n,e){if(1&n){var o=s.EpF();s.TgZ(0,"ion-select-option",26),s.NdJ("selected",function(){var n=s.CHM(o).$implicit,e=s.oxw();return n.id==e.contacto.home_id}),s._uU(1),s.qZA()}if(2&n){var t=e.$implicit;s.s9C("value",t.id),s.xp6(1),s.Oqu(t.title)}}var y,q,A=[{path:"",component:(y=function(){function o(e,t,i,a,l){n(this,o),this.rout=e,this.api=t,this.common=i,this.navCtrl=a,this.a_route=l,this.api_params={api_token:"",id:0},this.contacto={api_token:null,id:null,user_id:null,firstname:null,lastname:null,birthday:null,outside_inspectory_id:null,email_1:null,email_2:null,phone:null,formation_level:null,year_level:null,country_id:null,home_id:null,profile_pic_id:null,profesion_date:null,death_date:null,friendly_death_date:null,status:null,deleted_at:null,created_at:null,updated_at:null,fullname:"Cargando...",avatar:null,home_name:null,friendlyBday:null,friendly_profession_date:null,friendly_ordination_date:null,funciones:null},this.inspectorias=[],this.formationLevels=[],this.formationYears=[],this.homes=[],this.selected_home=0,this.roles=[],this.selected_role=0,this.lifestyles=[],this.selected_lifestyle=0,this.countries=[],this.selected_country=0,this.years=[],this.days=[],this.months={Enero:"01",Febrero:"02",Marzo:"03",Abril:"04",Mayo:"05",Junio:"06",Julio:"07",Agosto:"08",Septiembre:"09",Octubre:"10",Noviembre:"11",Diciembre:"12"},this.birthday=[],this.profession_date=[],this.ordination_date=[]}var t,i,a;return t=o,(i=[{key:"ngOnInit",value:function(){for(var n=1;n<32;n++)this.days.push(n);for(var e=1920;e<2021;e++)this.years.push(e)}},{key:"ionViewWillEnter",value:function(){var n=this;this.common.showloader(),this.api.send(this.api_params,"user/form-lists/get").subscribe(function(e){return n.bindFormLists(e)},function(){return n.onerror()})}},{key:"bindFormLists",value:function(n){var e=this;this.countries=n.countries,this.lifestyles=n.lifestyles,this.inspectorias=n.inspectorias,this.formationLevels=n.formationLevels,this.formationYears=n.formationYears,this.homes=n.homes,this.roles=n.roles,this.a_route.queryParams.subscribe(function(n){e.api_params.id=n.id}),this.api.send(this.api_params,"formandos/getOne").subscribe(function(n){return e.bindContact(n)},function(){return e.onerror()})}},{key:"bindContact",value:function(n){this.contacto=n,this.birthday=this.contacto.birthday.split("-"),this.common.hideloader()}},{key:"onerror",value:function(){this.common.hideloader(),this.common.toasting("Ha ocurrido un error, favor intenta m\xe1s tarde.")}},{key:"save",value:function(){var n=this;if(this.contacto.phone&&!this.checkPhone(this.contacto.phone))return!1;this.contacto.birthday=this.birthday[0]+"-"+this.birthday[1]+"-"+this.birthday[2],this.common.showloader(),this.api.send(this.contacto,"formandos/save").subscribe(function(e){return n.bindSave(e)},function(){return n.onerror()})}},{key:"checkPhone",value:function(n){return!(!n.match(/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/)&&!n.match(/^\(?([0-9]{3})\)?[-. ]?([0-9]{4})[-. ]?([0-9]{4})$/)&&(this.common.toasting("El formato del telefono ingresado no es valido favor usar (000) 0000000"),1))}},{key:"bindSave",value:function(n){this.common.hideloader(),"success"==n.status?(this.common.toasting("Se ha guardado la informacion de tu perfil."),this.rout.navigate(["formando"],{queryParams:{id:this.contacto.id}})):this.onerror()}}])&&e(t.prototype,i),a&&e(t,a),o}(),y.\u0275fac=function(n){return new(n||y)(s.Y36(c.F0),s.Y36(u.s),s.Y36(d.v),s.Y36(r.SH),s.Y36(c.gz))},y.\u0275cmp=s.Xpm({type:y,selectors:[["app-edit"]],decls:72,vars:30,consts:[[3,"translucent"],["slot","start"],["slot","start",1,"text-truncate"],["slot","end",3,"click"],["slot","icon-only","name","save-outline"],[1,"bg-sdb"],["position","floating"],["type","string","name","firstname",3,"ngModel","ngModelChange"],["name","country_id","id","country_id","placeholder","Seleccionar pa\xeds",3,"ngModel","value","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"bg-white"],["size","4"],["name","bday","placeholder","D\xeda",3,"ngModel","ngModelChange"],["required","",3,"value",4,"ngFor","ngForOf"],["name","bmonth","placeholder","Mes",3,"ngModel","ngModelChange"],["name","byear","placeholder","A\xf1o",3,"ngModel","ngModelChange"],["name","inspectoria","id","inspectoria","placeholder","Seleccionar...",3,"ngModel","value","ngModelChange"],["type","string","name","email_1",3,"ngModel","ngModelChange"],["type","string","name","email_2",3,"ngModel","ngModelChange"],["type","string","name","phone","placeholder","(000) 00000000",3,"ngModel","ngModelChange"],["name","formation_level","id","formation_level","placeholder","Seleccionar...",3,"ngModel","value","ngModelChange"],["name","formation_year","id","formation_year","placeholder","Seleccionar...",3,"ngModel","value","ngModelChange"],["name","home_id","placeholder","Seleccionar...",3,"ngModel","value","ngModelChange"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value"],["required","",3,"value"],[3,"value","selected"]],template:function(n,e){1&n&&(s.TgZ(0,"ion-header",0),s.TgZ(1,"ion-toolbar"),s.TgZ(2,"ion-buttons",1),s._UZ(3,"ion-back-button"),s.qZA(),s.TgZ(4,"ion-title",2),s._uU(5),s.qZA(),s.TgZ(6,"ion-buttons",3),s.NdJ("click",function(){return e.save()}),s.TgZ(7,"ion-button"),s._UZ(8,"ion-icon",4),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(9,"ion-content"),s.TgZ(10,"section",5),s.TgZ(11,"ion-item"),s.TgZ(12,"ion-label",6),s._uU(13,"Nombres"),s.qZA(),s.TgZ(14,"ion-input",7),s.NdJ("ngModelChange",function(n){return e.contacto.firstname=n}),s.qZA(),s.qZA(),s.TgZ(15,"ion-item"),s.TgZ(16,"ion-label",6),s._uU(17,"Apellidos"),s.qZA(),s.TgZ(18,"ion-input",7),s.NdJ("ngModelChange",function(n){return e.contacto.lastname=n}),s.qZA(),s.qZA(),s.TgZ(19,"ion-item"),s.TgZ(20,"ion-label",6),s._uU(21,"Country"),s.qZA(),s.TgZ(22,"ion-select",8),s.NdJ("ngModelChange",function(n){return e.contacto.country_id=n}),s.YNc(23,g,2,2,"ion-select-option",9),s.qZA(),s.qZA(),s.TgZ(24,"ion-item-divider"),s.TgZ(25,"ion-label"),s._uU(26,"Fecha de nacimiento"),s.qZA(),s.qZA(),s.TgZ(27,"ion-grid",10),s.TgZ(28,"ion-row"),s.TgZ(29,"ion-col",11),s.TgZ(30,"ion-select",12),s.NdJ("ngModelChange",function(n){return e.birthday[2]=n}),s.YNc(31,h,2,2,"ion-select-option",13),s.qZA(),s.qZA(),s.TgZ(32,"ion-col",11),s.TgZ(33,"ion-select",14),s.NdJ("ngModelChange",function(n){return e.birthday[1]=n}),s.YNc(34,p,2,2,"ion-select-option",13),s.ALo(35,"keyvalue"),s.qZA(),s.qZA(),s.TgZ(36,"ion-col",11),s.TgZ(37,"ion-select",15),s.NdJ("ngModelChange",function(n){return e.birthday[0]=n}),s.YNc(38,m,2,2,"ion-select-option",13),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(39,"ion-item"),s.TgZ(40,"ion-label",6),s._uU(41,"Inspector\xeda"),s.qZA(),s.TgZ(42,"ion-select",16),s.NdJ("ngModelChange",function(n){return e.contacto.outside_inspectory_id=n}),s.YNc(43,f,2,2,"ion-select-option",9),s.qZA(),s.qZA(),s.TgZ(44,"ion-item"),s.TgZ(45,"ion-label",6),s._uU(46,"Email 1"),s.qZA(),s.TgZ(47,"ion-input",17),s.NdJ("ngModelChange",function(n){return e.contacto.email_1=n}),s.qZA(),s.qZA(),s.TgZ(48,"ion-item"),s.TgZ(49,"ion-label",6),s._uU(50,"Email 2"),s.qZA(),s.TgZ(51,"ion-input",18),s.NdJ("ngModelChange",function(n){return e.contacto.email_2=n}),s.qZA(),s.qZA(),s.TgZ(52,"ion-item"),s.TgZ(53,"ion-label",6),s._uU(54,"Tel\xe9fono"),s.qZA(),s.TgZ(55,"ion-input",19),s.NdJ("ngModelChange",function(n){return e.contacto.phone=n}),s.qZA(),s.qZA(),s.TgZ(56,"ion-item"),s.TgZ(57,"ion-label",6),s._uU(58,"Nivel de formaci\xf3n"),s.qZA(),s.TgZ(59,"ion-select",20),s.NdJ("ngModelChange",function(n){return e.contacto.formation_level=n}),s.YNc(60,Z,2,2,"ion-select-option",9),s.qZA(),s.qZA(),s.TgZ(61,"ion-item"),s.TgZ(62,"ion-label",6),s._uU(63,"A\xf1o de formaci\xf3n"),s.qZA(),s.TgZ(64,"ion-select",21),s.NdJ("ngModelChange",function(n){return e.contacto.year_level=n}),s.YNc(65,_,2,2,"ion-select-option",9),s.qZA(),s.qZA(),s.TgZ(66,"ion-item"),s.TgZ(67,"ion-label",6),s._uU(68,"Casa Asignada"),s.qZA(),s.TgZ(69,"ion-select",22),s.NdJ("ngModelChange",function(n){return e.contacto.home_id=n}),s.YNc(70,v,2,2,"ion-select-option",23),s.qZA(),s.qZA(),s._UZ(71,"ion-item-divider"),s.qZA(),s.qZA()),2&n&&(s.Q6J("translucent",!0),s.xp6(5),s.hij(" Editar ",e.contacto.fullname," "),s.xp6(9),s.Q6J("ngModel",e.contacto.firstname),s.xp6(4),s.Q6J("ngModel",e.contacto.lastname),s.xp6(4),s.s9C("value",e.contacto.country_id),s.Q6J("ngModel",e.contacto.country_id),s.xp6(1),s.Q6J("ngForOf",e.countries),s.xp6(7),s.Q6J("ngModel",e.birthday[2]),s.xp6(1),s.Q6J("ngForOf",e.days),s.xp6(2),s.Q6J("ngModel",e.birthday[1]),s.xp6(1),s.Q6J("ngForOf",s.lcZ(35,28,e.months)),s.xp6(3),s.Q6J("ngModel",e.birthday[0]),s.xp6(1),s.Q6J("ngForOf",e.years),s.xp6(4),s.s9C("value",e.contacto.outside_inspectory_id),s.Q6J("ngModel",e.contacto.outside_inspectory_id),s.xp6(1),s.Q6J("ngForOf",e.inspectorias),s.xp6(4),s.Q6J("ngModel",e.contacto.email_1),s.xp6(4),s.Q6J("ngModel",e.contacto.email_2),s.xp6(4),s.Q6J("ngModel",e.contacto.phone),s.xp6(4),s.s9C("value",e.contacto.formation_level),s.Q6J("ngModel",e.contacto.formation_level),s.xp6(1),s.Q6J("ngForOf",e.formationLevels),s.xp6(4),s.s9C("value",e.contacto.year_level),s.Q6J("ngModel",e.contacto.year_level),s.xp6(1),s.Q6J("ngForOf",e.formationYears),s.xp6(4),s.s9C("value",e.contacto.home_id),s.Q6J("ngModel",e.contacto.home_id),s.xp6(1),s.Q6J("ngForOf",e.homes))},directives:[r.Gu,r.sr,r.Sm,r.oU,r.cs,r.wd,r.YG,r.gu,r.W2,r.Ie,r.Q$,r.pK,r.j9,l.JJ,l.On,r.t9,r.QI,a.sg,r.rH,r.jY,r.Nd,r.wI,r.n0],pipes:[a.Nd],styles:[""]}),y)}],b=function(){var e=function e(){n(this,e)};return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[c.Bz.forChild(A)],c.Bz]}),e}(),T=((q=function e(){n(this,e)}).\u0275fac=function(n){return new(n||q)},q.\u0275mod=s.oAB({type:q}),q.\u0275inj=s.cJS({imports:[[a.ez,l.u5,r.Pc,b]]}),q)}}])}();