(self.webpackChunkSDB_CAM=self.webpackChunkSDB_CAM||[]).push([[2082],{2082:function(n,o,t){"use strict";t.r(o),t.d(o,{EditPageModule:function(){return b}});var e=t(1116),i=t(1462),l=t(8809),a=t(6393),s=t(8619),c=t(3957),r=t(7354);function d(n,o){if(1&n&&(s.TgZ(0,"ion-select-option",20),s._uU(1),s.qZA()),2&n){const n=o.$implicit;s.s9C("value",n),s.xp6(1),s.Oqu(n)}}function u(n,o){if(1&n&&(s.TgZ(0,"ion-select-option",20),s._uU(1),s.qZA()),2&n){const n=o.$implicit;s.s9C("value",n.value),s.xp6(1),s.Oqu(n.key)}}function g(n,o){if(1&n&&(s.TgZ(0,"ion-select-option",20),s._uU(1),s.qZA()),2&n){const n=o.$implicit;s.s9C("value",n),s.xp6(1),s.Oqu(n)}}function h(n,o){if(1&n&&(s.TgZ(0,"ion-select-option",20),s._uU(1),s.qZA()),2&n){const n=o.$implicit;s.s9C("value",n),s.xp6(1),s.Oqu(n)}}function p(n,o){if(1&n&&(s.TgZ(0,"ion-select-option",20),s._uU(1),s.qZA()),2&n){const n=o.$implicit;s.s9C("value",n.value),s.xp6(1),s.Oqu(n.key)}}function Z(n,o){if(1&n&&(s.TgZ(0,"ion-select-option",20),s._uU(1),s.qZA()),2&n){const n=o.$implicit;s.s9C("value",n),s.xp6(1),s.Oqu(n)}}function m(n,o){if(1&n&&(s.TgZ(0,"ion-select-option",20),s._uU(1),s.qZA()),2&n){const n=o.$implicit;s.s9C("value",n),s.xp6(1),s.Oqu(n)}}function f(n,o){if(1&n&&(s.TgZ(0,"ion-select-option",20),s._uU(1),s.qZA()),2&n){const n=o.$implicit;s.s9C("value",n.value),s.xp6(1),s.Oqu(n.key)}}function _(n,o){if(1&n&&(s.TgZ(0,"ion-select-option",20),s._uU(1),s.qZA()),2&n){const n=o.$implicit;s.s9C("value",n),s.xp6(1),s.Oqu(n)}}function q(n,o){if(1&n&&(s.TgZ(0,"ion-select-option",21),s._uU(1),s.qZA()),2&n){const n=o.$implicit;s.s9C("value",n.id),s.xp6(1),s.Oqu(n.name)}}function A(n,o){if(1&n&&(s.TgZ(0,"ion-select-option",21),s._uU(1),s.qZA()),2&n){const n=o.$implicit;s.s9C("value",n.id),s.xp6(1),s.Oqu(n.name)}}function T(n,o){if(1&n){const n=s.EpF();s.TgZ(0,"ion-select-option",22),s.NdJ("selected",function(){const o=s.CHM(n).$implicit,t=s.oxw();return o.id==t.contacto.home_id}),s._uU(1),s.qZA()}if(2&n){const n=o.$implicit;s.s9C("value",n.id),s.xp6(1),s.Oqu(n.title)}}const M=[{path:"",component:(()=>{class n{constructor(n,o,t,e,i){this.rout=n,this.api=o,this.common=t,this.navCtrl=e,this.a_route=i,this.api_params={api_token:"",id:0},this.contacto={api_token:null,id:null,user_id:null,firstname:null,lastname:null,nickname:null,birthday:null,profession_date:null,ordination_date:null,email_1:null,email_2:null,country_id:null,mobile:null,phone:null,lifestyle_id:null,home_id:null,profile_pic_id:null,death_date:null,friendly_death_date:null,status:null,deleted_at:null,created_at:null,updated_at:null,fullname:"Cargando...",avatar:null,home_name:null,friendlyBday:null,friendly_profession_date:null,friendly_ordination_date:null,funciones:null},this.homes=[],this.selected_home=0,this.roles=[],this.selected_role=0,this.lifestyles=[],this.selected_lifestyle=0,this.countries=[],this.selected_country=0,this.years=[],this.days=[],this.months={Enero:"01",Febrero:"02",Marzo:"03",Abril:"04",Mayo:"05",Junio:"06",Julio:"07",Agosto:"08",Septiembre:"09",Octubre:"10",Noviembre:"11",Diciembre:"12"},this.birthday=[],this.profession_date=[],this.ordination_date=[]}ngOnInit(){for(let n=1;n<32;n++)this.days.push(n);for(let n=1920;n<2021;n++)this.years.push(n)}ionViewWillEnter(){this.common.showloader(),this.a_route.queryParams.subscribe(n=>{this.api_params.id=n.id}),this.api.send(this.api_params,"user/form-lists/get").subscribe(n=>this.bindFormLists(n),()=>this.onerror())}bindFormLists(n){this.countries=n.countries,this.lifestyles=n.lifestyles,this.homes=n.homes,this.roles=n.roles,this.api.send(this.api_params,"contactos/getOne").subscribe(n=>this.bindContact(n),()=>this.onerror())}bindContact(n){this.common.hideloader(),this.contacto=n,this.birthday=this.contacto.birthday.split("-"),this.contacto.profession_date&&(this.profession_date=this.contacto.profession_date.split("-")),this.contacto.ordination_date&&(this.ordination_date=this.contacto.ordination_date.split("-")),this.selected_country=this.contacto.country_id}onerror(){this.common.hideloader(),this.common.toasting("Ha ocurrido un error, favor intenta m\xe1s tarde.")}save(){return!(this.contacto.phone&&!this.checkPhone(this.contacto.phone))&&!(this.contacto.mobile&&!this.checkPhone(this.contacto.mobile))&&(this.contacto.birthday=this.birthday[0]+"-"+this.birthday[1]+"-"+this.birthday[2],this.contacto.ordination_date=this.ordination_date[0]+"-"+this.ordination_date[1]+"-"+this.ordination_date[2],this.contacto.profession_date=this.profession_date[0]+"-"+this.profession_date[1]+"-"+this.profession_date[2],this.common.showloader(),void this.api.send(this.contacto,"contactos/save").subscribe(n=>this.bindSave(n),()=>this.onerror()))}checkPhone(n){return!(!n.match(/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/)&&!n.match(/^\(?([0-9]{3})\)?[-. ]?([0-9]{4})[-. ]?([0-9]{4})$/)&&(this.common.toasting("El formato del telefono ingresado no es valido favor usar (000) 0000000"),1))}bindSave(n){this.common.hideloader(),"success"==n.status?(this.common.toasting("Se ha guardado la informacion de tu perfil."),this.rout.navigate(["contacto"],{queryParams:{id:this.contacto.id}})):this.onerror()}}return n.\u0275fac=function(o){return new(o||n)(s.Y36(a.F0),s.Y36(c.s),s.Y36(r.v),s.Y36(l.SH),s.Y36(a.gz))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-edit"]],decls:96,vars:41,consts:[[3,"translucent"],["slot","start"],["slot","start",1,"text-truncate"],["slot","end",3,"click"],["slot","icon-only","name","save-outline"],[1,"bg-sdb"],["position","floating"],["type","string","name","firstname",3,"ngModel","ngModelChange"],["placeholder","D\xeda",3,"ngModel","ngModelChange"],["required","",3,"value",4,"ngFor","ngForOf"],["placeholder","Mes",3,"ngModel","ngModelChange"],["placeholder","A\xf1o",3,"ngModel","ngModelChange"],["type","string","name","email_1",3,"ngModel","ngModelChange"],["type","string","name","email_2",3,"ngModel","ngModelChange"],["placeholder","Seleccionar pa\xeds",3,"ngModel","value","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","string","name","mobile","placeholder","(000) 00000000",3,"ngModel","ngModelChange"],["type","string","name","phone","placeholder","(000) 00000000",3,"ngModel","ngModelChange"],["name","home_id","placeholder","Seleccionar...",3,"ngModel","value","ngModelChange"],[3,"value","selected",4,"ngFor","ngForOf"],["required","",3,"value"],[3,"value"],[3,"value","selected"]],template:function(n,o){1&n&&(s.TgZ(0,"ion-header",0),s.TgZ(1,"ion-toolbar"),s.TgZ(2,"ion-buttons",1),s._UZ(3,"ion-back-button"),s.qZA(),s.TgZ(4,"ion-title",2),s._uU(5),s.qZA(),s.TgZ(6,"ion-buttons",3),s.NdJ("click",function(){return o.save()}),s.TgZ(7,"ion-button"),s._UZ(8,"ion-icon",4),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(9,"ion-content"),s.TgZ(10,"section",5),s.TgZ(11,"ion-item"),s.TgZ(12,"ion-label",6),s._uU(13,"Nombres"),s.qZA(),s.TgZ(14,"ion-input",7),s.NdJ("ngModelChange",function(n){return o.contacto.firstname=n}),s.qZA(),s.qZA(),s.TgZ(15,"ion-item"),s.TgZ(16,"ion-label",6),s._uU(17,"Apellidos"),s.qZA(),s.TgZ(18,"ion-input",7),s.NdJ("ngModelChange",function(n){return o.contacto.lastname=n}),s.qZA(),s.qZA(),s.TgZ(19,"ion-item-divider"),s.TgZ(20,"ion-label"),s._uU(21,"Fecha de nacimiento"),s.qZA(),s.qZA(),s.TgZ(22,"ion-item"),s.TgZ(23,"ion-row"),s.TgZ(24,"ion-col"),s.TgZ(25,"ion-select",8),s.NdJ("ngModelChange",function(n){return o.birthday[2]=n}),s.YNc(26,d,2,2,"ion-select-option",9),s.qZA(),s.qZA(),s.TgZ(27,"ion-col"),s.TgZ(28,"ion-select",10),s.NdJ("ngModelChange",function(n){return o.birthday[1]=n}),s.YNc(29,u,2,2,"ion-select-option",9),s.ALo(30,"keyvalue"),s.qZA(),s.qZA(),s.TgZ(31,"ion-col"),s.TgZ(32,"ion-select",11),s.NdJ("ngModelChange",function(n){return o.birthday[0]=n}),s.YNc(33,g,2,2,"ion-select-option",9),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(34,"ion-item-divider"),s.TgZ(35,"ion-label"),s._uU(36,"Fecha de primera profesion"),s.qZA(),s.qZA(),s.TgZ(37,"ion-item"),s.TgZ(38,"ion-row"),s.TgZ(39,"ion-col"),s.TgZ(40,"ion-select",8),s.NdJ("ngModelChange",function(n){return o.profession_date[2]=n}),s.YNc(41,h,2,2,"ion-select-option",9),s.qZA(),s.qZA(),s.TgZ(42,"ion-col"),s.TgZ(43,"ion-select",10),s.NdJ("ngModelChange",function(n){return o.profession_date[1]=n}),s.YNc(44,p,2,2,"ion-select-option",9),s.ALo(45,"keyvalue"),s.qZA(),s.qZA(),s.TgZ(46,"ion-col"),s.TgZ(47,"ion-select",11),s.NdJ("ngModelChange",function(n){return o.profession_date[0]=n}),s.YNc(48,Z,2,2,"ion-select-option",9),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(49,"ion-item-divider"),s.TgZ(50,"ion-label"),s._uU(51,"Fecha de ordenaci\xf3n sacerdotal"),s.qZA(),s.qZA(),s.TgZ(52,"ion-item"),s.TgZ(53,"ion-row"),s.TgZ(54,"ion-col"),s.TgZ(55,"ion-select",8),s.NdJ("ngModelChange",function(n){return o.ordination_date[2]=n}),s.YNc(56,m,2,2,"ion-select-option",9),s.qZA(),s.qZA(),s.TgZ(57,"ion-col"),s.TgZ(58,"ion-select",10),s.NdJ("ngModelChange",function(n){return o.ordination_date[1]=n}),s.YNc(59,f,2,2,"ion-select-option",9),s.ALo(60,"keyvalue"),s.qZA(),s.qZA(),s.TgZ(61,"ion-col"),s.TgZ(62,"ion-select",11),s.NdJ("ngModelChange",function(n){return o.ordination_date[0]=n}),s.YNc(63,_,2,2,"ion-select-option",9),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(64,"ion-item"),s.TgZ(65,"ion-label",6),s._uU(66,"Email 1"),s.qZA(),s.TgZ(67,"ion-input",12),s.NdJ("ngModelChange",function(n){return o.contacto.email_1=n}),s.qZA(),s.qZA(),s.TgZ(68,"ion-item"),s.TgZ(69,"ion-label",6),s._uU(70,"Email 2"),s.qZA(),s.TgZ(71,"ion-input",13),s.NdJ("ngModelChange",function(n){return o.contacto.email_2=n}),s.qZA(),s.qZA(),s.TgZ(72,"ion-item"),s.TgZ(73,"ion-label",6),s._uU(74,"Country"),s.qZA(),s.TgZ(75,"ion-select",14),s.NdJ("ngModelChange",function(n){return o.contacto.country_id=n}),s.YNc(76,q,2,2,"ion-select-option",15),s.qZA(),s.qZA(),s.TgZ(77,"ion-item"),s.TgZ(78,"ion-label",6),s._uU(79,"Telefono celular"),s.qZA(),s.TgZ(80,"ion-input",16),s.NdJ("ngModelChange",function(n){return o.contacto.mobile=n}),s.qZA(),s.qZA(),s.TgZ(81,"ion-item"),s.TgZ(82,"ion-label",6),s._uU(83,"Telefono fijo"),s.qZA(),s.TgZ(84,"ion-input",17),s.NdJ("ngModelChange",function(n){return o.contacto.phone=n}),s.qZA(),s.qZA(),s.TgZ(85,"ion-item"),s.TgZ(86,"ion-label",6),s._uU(87,"Estilo de vida"),s.qZA(),s.TgZ(88,"ion-select",18),s.NdJ("ngModelChange",function(n){return o.contacto.lifestyle_id=n}),s.YNc(89,A,2,2,"ion-select-option",15),s.qZA(),s.qZA(),s.TgZ(90,"ion-item"),s.TgZ(91,"ion-label",6),s._uU(92,"Casa Asignada"),s.qZA(),s.TgZ(93,"ion-select",18),s.NdJ("ngModelChange",function(n){return o.contacto.home_id=n}),s.YNc(94,T,2,2,"ion-select-option",19),s.qZA(),s.qZA(),s._UZ(95,"ion-item-divider"),s.qZA(),s.qZA()),2&n&&(s.Q6J("translucent",!0),s.xp6(5),s.hij(" Editar ",o.contacto.fullname," "),s.xp6(9),s.Q6J("ngModel",o.contacto.firstname),s.xp6(4),s.Q6J("ngModel",o.contacto.lastname),s.xp6(7),s.Q6J("ngModel",o.birthday[2]),s.xp6(1),s.Q6J("ngForOf",o.days),s.xp6(2),s.Q6J("ngModel",o.birthday[1]),s.xp6(1),s.Q6J("ngForOf",s.lcZ(30,35,o.months)),s.xp6(3),s.Q6J("ngModel",o.birthday[0]),s.xp6(1),s.Q6J("ngForOf",o.years),s.xp6(7),s.Q6J("ngModel",o.profession_date[2]),s.xp6(1),s.Q6J("ngForOf",o.days),s.xp6(2),s.Q6J("ngModel",o.profession_date[1]),s.xp6(1),s.Q6J("ngForOf",s.lcZ(45,37,o.months)),s.xp6(3),s.Q6J("ngModel",o.profession_date[0]),s.xp6(1),s.Q6J("ngForOf",o.years),s.xp6(7),s.Q6J("ngModel",o.ordination_date[2]),s.xp6(1),s.Q6J("ngForOf",o.days),s.xp6(2),s.Q6J("ngModel",o.ordination_date[1]),s.xp6(1),s.Q6J("ngForOf",s.lcZ(60,39,o.months)),s.xp6(3),s.Q6J("ngModel",o.ordination_date[0]),s.xp6(1),s.Q6J("ngForOf",o.years),s.xp6(4),s.Q6J("ngModel",o.contacto.email_1),s.xp6(4),s.Q6J("ngModel",o.contacto.email_2),s.xp6(4),s.s9C("value",o.contacto.country_id),s.Q6J("ngModel",o.contacto.country_id),s.xp6(1),s.Q6J("ngForOf",o.countries),s.xp6(4),s.Q6J("ngModel",o.contacto.mobile),s.xp6(4),s.Q6J("ngModel",o.contacto.phone),s.xp6(4),s.s9C("value",o.contacto.lifestyle_id),s.Q6J("ngModel",o.contacto.lifestyle_id),s.xp6(1),s.Q6J("ngForOf",o.lifestyles),s.xp6(4),s.s9C("value",o.contacto.home_id),s.Q6J("ngModel",o.contacto.home_id),s.xp6(1),s.Q6J("ngForOf",o.homes))},directives:[l.Gu,l.sr,l.Sm,l.oU,l.cs,l.wd,l.YG,l.gu,l.W2,l.Ie,l.Q$,l.pK,l.j9,i.JJ,i.On,l.rH,l.Nd,l.wI,l.t9,l.QI,e.sg,l.n0],pipes:[e.Nd],styles:[".alert-radio-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{display:none!important}ion-item[_ngcontent-%COMP%]   ion-row.md[_ngcontent-%COMP%]{width:100%}ion-item[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{min-width:100%}.select-icon[_ngcontent-%COMP%]{transform:translateZ(0)!important}"]}),n})()}];let y=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[a.Bz.forChild(M)],a.Bz]}),n})(),b=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[e.ez,i.u5,l.Pc,y]]}),n})()}}]);