!function(){function n(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}function o(n,o){for(var e=0;e<o.length;e++){var t=o[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}(self.webpackChunkSDB_CAM=self.webpackChunkSDB_CAM||[]).push([[2082],{2082:function(e,t,i){"use strict";i.r(t),i.d(t,{EditPageModule:function(){return x}});var a=i(1116),l=i(1462),c=i(8809),r=i(6393),s=i(8619),u=i(3957),d=i(7354);function g(n,o){if(1&n&&(s.TgZ(0,"ion-select-option",20),s._uU(1),s.qZA()),2&n){var e=o.$implicit;s.s9C("value",e),s.xp6(1),s.Oqu(e)}}function h(n,o){if(1&n&&(s.TgZ(0,"ion-select-option",20),s._uU(1),s.qZA()),2&n){var e=o.$implicit;s.s9C("value",e.value),s.xp6(1),s.Oqu(e.key)}}function p(n,o){if(1&n&&(s.TgZ(0,"ion-select-option",20),s._uU(1),s.qZA()),2&n){var e=o.$implicit;s.s9C("value",e),s.xp6(1),s.Oqu(e)}}function Z(n,o){if(1&n&&(s.TgZ(0,"ion-select-option",20),s._uU(1),s.qZA()),2&n){var e=o.$implicit;s.s9C("value",e),s.xp6(1),s.Oqu(e)}}function f(n,o){if(1&n&&(s.TgZ(0,"ion-select-option",20),s._uU(1),s.qZA()),2&n){var e=o.$implicit;s.s9C("value",e.value),s.xp6(1),s.Oqu(e.key)}}function m(n,o){if(1&n&&(s.TgZ(0,"ion-select-option",20),s._uU(1),s.qZA()),2&n){var e=o.$implicit;s.s9C("value",e),s.xp6(1),s.Oqu(e)}}function _(n,o){if(1&n&&(s.TgZ(0,"ion-select-option",20),s._uU(1),s.qZA()),2&n){var e=o.$implicit;s.s9C("value",e),s.xp6(1),s.Oqu(e)}}function q(n,o){if(1&n&&(s.TgZ(0,"ion-select-option",20),s._uU(1),s.qZA()),2&n){var e=o.$implicit;s.s9C("value",e.value),s.xp6(1),s.Oqu(e.key)}}function A(n,o){if(1&n&&(s.TgZ(0,"ion-select-option",20),s._uU(1),s.qZA()),2&n){var e=o.$implicit;s.s9C("value",e),s.xp6(1),s.Oqu(e)}}function v(n,o){if(1&n&&(s.TgZ(0,"ion-select-option",21),s._uU(1),s.qZA()),2&n){var e=o.$implicit;s.s9C("value",e.id),s.xp6(1),s.Oqu(e.name)}}function T(n,o){if(1&n&&(s.TgZ(0,"ion-select-option",21),s._uU(1),s.qZA()),2&n){var e=o.$implicit;s.s9C("value",e.id),s.xp6(1),s.Oqu(e.name)}}function y(n,o){if(1&n){var e=s.EpF();s.TgZ(0,"ion-select-option",22),s.NdJ("selected",function(){var n=s.CHM(e).$implicit,o=s.oxw();return n.id==o.contacto.home_id}),s._uU(1),s.qZA()}if(2&n){var t=o.$implicit;s.s9C("value",t.id),s.xp6(1),s.Oqu(t.title)}}var M,b,C=[{path:"",component:(M=function(){function e(o,t,i,a,l){n(this,e),this.rout=o,this.api=t,this.common=i,this.navCtrl=a,this.a_route=l,this.api_params={api_token:"",id:0},this.contacto={api_token:null,id:null,user_id:null,firstname:null,lastname:null,nickname:null,birthday:null,profession_date:null,ordination_date:null,email_1:null,email_2:null,country_id:null,mobile:null,phone:null,lifestyle_id:null,home_id:null,profile_pic_id:null,death_date:null,friendly_death_date:null,status:null,deleted_at:null,created_at:null,updated_at:null,fullname:"Cargando...",avatar:null,home_name:null,friendlyBday:null,friendly_profession_date:null,friendly_ordination_date:null,funciones:null},this.homes=[],this.selected_home=0,this.roles=[],this.selected_role=0,this.lifestyles=[],this.selected_lifestyle=0,this.countries=[],this.selected_country=0,this.years=[],this.days=[],this.months={Enero:"01",Febrero:"02",Marzo:"03",Abril:"04",Mayo:"05",Junio:"06",Julio:"07",Agosto:"08",Septiembre:"09",Octubre:"10",Noviembre:"11",Diciembre:"12"},this.birthday=[],this.profession_date=[],this.ordination_date=[]}var t,i,a;return t=e,(i=[{key:"ngOnInit",value:function(){for(var n=1;n<32;n++)this.days.push(n);for(var o=1920;o<2021;o++)this.years.push(o)}},{key:"ionViewWillEnter",value:function(){var n=this;this.common.showloader(),this.a_route.queryParams.subscribe(function(o){n.api_params.id=o.id}),this.api.send(this.api_params,"user/form-lists/get").subscribe(function(o){return n.bindFormLists(o)},function(){return n.onerror()})}},{key:"bindFormLists",value:function(n){var o=this;this.countries=n.countries,this.lifestyles=n.lifestyles,this.homes=n.homes,this.roles=n.roles,this.api.send(this.api_params,"contactos/getOne").subscribe(function(n){return o.bindContact(n)},function(){return o.onerror()})}},{key:"bindContact",value:function(n){this.common.hideloader(),this.contacto=n,this.birthday=this.contacto.birthday.split("-"),this.contacto.profession_date&&(this.profession_date=this.contacto.profession_date.split("-")),this.contacto.ordination_date&&(this.ordination_date=this.contacto.ordination_date.split("-")),this.selected_country=this.contacto.country_id}},{key:"onerror",value:function(){this.common.hideloader(),this.common.toasting("Ha ocurrido un error, favor intenta m\xe1s tarde.")}},{key:"save",value:function(){var n=this;return!(this.contacto.phone&&!this.checkPhone(this.contacto.phone))&&!(this.contacto.mobile&&!this.checkPhone(this.contacto.mobile))&&(this.contacto.birthday=this.birthday[0]+"-"+this.birthday[1]+"-"+this.birthday[2],this.contacto.ordination_date=this.ordination_date[0]+"-"+this.ordination_date[1]+"-"+this.ordination_date[2],this.contacto.profession_date=this.profession_date[0]+"-"+this.profession_date[1]+"-"+this.profession_date[2],this.common.showloader(),void this.api.send(this.contacto,"contactos/save").subscribe(function(o){return n.bindSave(o)},function(){return n.onerror()}))}},{key:"checkPhone",value:function(n){return!(!n.match(/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/)&&!n.match(/^\(?([0-9]{3})\)?[-. ]?([0-9]{4})[-. ]?([0-9]{4})$/)&&(this.common.toasting("El formato del telefono ingresado no es valido favor usar (000) 0000000"),1))}},{key:"bindSave",value:function(n){this.common.hideloader(),"success"==n.status?(this.common.toasting("Se ha guardado la informacion de tu perfil."),this.rout.navigate(["contacto"],{queryParams:{id:this.contacto.id}})):this.onerror()}}])&&o(t.prototype,i),a&&o(t,a),e}(),M.\u0275fac=function(n){return new(n||M)(s.Y36(r.F0),s.Y36(u.s),s.Y36(d.v),s.Y36(c.SH),s.Y36(r.gz))},M.\u0275cmp=s.Xpm({type:M,selectors:[["app-edit"]],decls:96,vars:41,consts:[[3,"translucent"],["slot","start"],["slot","start",1,"text-truncate"],["slot","end",3,"click"],["slot","icon-only","name","save-outline"],[1,"bg-sdb"],["position","floating"],["type","string","name","firstname",3,"ngModel","ngModelChange"],["placeholder","D\xeda",3,"ngModel","ngModelChange"],["required","",3,"value",4,"ngFor","ngForOf"],["placeholder","Mes",3,"ngModel","ngModelChange"],["placeholder","A\xf1o",3,"ngModel","ngModelChange"],["type","string","name","email_1",3,"ngModel","ngModelChange"],["type","string","name","email_2",3,"ngModel","ngModelChange"],["placeholder","Seleccionar pa\xeds",3,"ngModel","value","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","string","name","mobile","placeholder","(000) 00000000",3,"ngModel","ngModelChange"],["type","string","name","phone","placeholder","(000) 00000000",3,"ngModel","ngModelChange"],["name","home_id","placeholder","Seleccionar...",3,"ngModel","value","ngModelChange"],[3,"value","selected",4,"ngFor","ngForOf"],["required","",3,"value"],[3,"value"],[3,"value","selected"]],template:function(n,o){1&n&&(s.TgZ(0,"ion-header",0),s.TgZ(1,"ion-toolbar"),s.TgZ(2,"ion-buttons",1),s._UZ(3,"ion-back-button"),s.qZA(),s.TgZ(4,"ion-title",2),s._uU(5),s.qZA(),s.TgZ(6,"ion-buttons",3),s.NdJ("click",function(){return o.save()}),s.TgZ(7,"ion-button"),s._UZ(8,"ion-icon",4),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(9,"ion-content"),s.TgZ(10,"section",5),s.TgZ(11,"ion-item"),s.TgZ(12,"ion-label",6),s._uU(13,"Nombres"),s.qZA(),s.TgZ(14,"ion-input",7),s.NdJ("ngModelChange",function(n){return o.contacto.firstname=n}),s.qZA(),s.qZA(),s.TgZ(15,"ion-item"),s.TgZ(16,"ion-label",6),s._uU(17,"Apellidos"),s.qZA(),s.TgZ(18,"ion-input",7),s.NdJ("ngModelChange",function(n){return o.contacto.lastname=n}),s.qZA(),s.qZA(),s.TgZ(19,"ion-item-divider"),s.TgZ(20,"ion-label"),s._uU(21,"Fecha de nacimiento"),s.qZA(),s.qZA(),s.TgZ(22,"ion-item"),s.TgZ(23,"ion-row"),s.TgZ(24,"ion-col"),s.TgZ(25,"ion-select",8),s.NdJ("ngModelChange",function(n){return o.birthday[2]=n}),s.YNc(26,g,2,2,"ion-select-option",9),s.qZA(),s.qZA(),s.TgZ(27,"ion-col"),s.TgZ(28,"ion-select",10),s.NdJ("ngModelChange",function(n){return o.birthday[1]=n}),s.YNc(29,h,2,2,"ion-select-option",9),s.ALo(30,"keyvalue"),s.qZA(),s.qZA(),s.TgZ(31,"ion-col"),s.TgZ(32,"ion-select",11),s.NdJ("ngModelChange",function(n){return o.birthday[0]=n}),s.YNc(33,p,2,2,"ion-select-option",9),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(34,"ion-item-divider"),s.TgZ(35,"ion-label"),s._uU(36,"Fecha de primera profesion"),s.qZA(),s.qZA(),s.TgZ(37,"ion-item"),s.TgZ(38,"ion-row"),s.TgZ(39,"ion-col"),s.TgZ(40,"ion-select",8),s.NdJ("ngModelChange",function(n){return o.profession_date[2]=n}),s.YNc(41,Z,2,2,"ion-select-option",9),s.qZA(),s.qZA(),s.TgZ(42,"ion-col"),s.TgZ(43,"ion-select",10),s.NdJ("ngModelChange",function(n){return o.profession_date[1]=n}),s.YNc(44,f,2,2,"ion-select-option",9),s.ALo(45,"keyvalue"),s.qZA(),s.qZA(),s.TgZ(46,"ion-col"),s.TgZ(47,"ion-select",11),s.NdJ("ngModelChange",function(n){return o.profession_date[0]=n}),s.YNc(48,m,2,2,"ion-select-option",9),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(49,"ion-item-divider"),s.TgZ(50,"ion-label"),s._uU(51,"Fecha de ordenaci\xf3n sacerdotal"),s.qZA(),s.qZA(),s.TgZ(52,"ion-item"),s.TgZ(53,"ion-row"),s.TgZ(54,"ion-col"),s.TgZ(55,"ion-select",8),s.NdJ("ngModelChange",function(n){return o.ordination_date[2]=n}),s.YNc(56,_,2,2,"ion-select-option",9),s.qZA(),s.qZA(),s.TgZ(57,"ion-col"),s.TgZ(58,"ion-select",10),s.NdJ("ngModelChange",function(n){return o.ordination_date[1]=n}),s.YNc(59,q,2,2,"ion-select-option",9),s.ALo(60,"keyvalue"),s.qZA(),s.qZA(),s.TgZ(61,"ion-col"),s.TgZ(62,"ion-select",11),s.NdJ("ngModelChange",function(n){return o.ordination_date[0]=n}),s.YNc(63,A,2,2,"ion-select-option",9),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(64,"ion-item"),s.TgZ(65,"ion-label",6),s._uU(66,"Email 1"),s.qZA(),s.TgZ(67,"ion-input",12),s.NdJ("ngModelChange",function(n){return o.contacto.email_1=n}),s.qZA(),s.qZA(),s.TgZ(68,"ion-item"),s.TgZ(69,"ion-label",6),s._uU(70,"Email 2"),s.qZA(),s.TgZ(71,"ion-input",13),s.NdJ("ngModelChange",function(n){return o.contacto.email_2=n}),s.qZA(),s.qZA(),s.TgZ(72,"ion-item"),s.TgZ(73,"ion-label",6),s._uU(74,"Country"),s.qZA(),s.TgZ(75,"ion-select",14),s.NdJ("ngModelChange",function(n){return o.contacto.country_id=n}),s.YNc(76,v,2,2,"ion-select-option",15),s.qZA(),s.qZA(),s.TgZ(77,"ion-item"),s.TgZ(78,"ion-label",6),s._uU(79,"Telefono celular"),s.qZA(),s.TgZ(80,"ion-input",16),s.NdJ("ngModelChange",function(n){return o.contacto.mobile=n}),s.qZA(),s.qZA(),s.TgZ(81,"ion-item"),s.TgZ(82,"ion-label",6),s._uU(83,"Telefono fijo"),s.qZA(),s.TgZ(84,"ion-input",17),s.NdJ("ngModelChange",function(n){return o.contacto.phone=n}),s.qZA(),s.qZA(),s.TgZ(85,"ion-item"),s.TgZ(86,"ion-label",6),s._uU(87,"Estilo de vida"),s.qZA(),s.TgZ(88,"ion-select",18),s.NdJ("ngModelChange",function(n){return o.contacto.lifestyle_id=n}),s.YNc(89,T,2,2,"ion-select-option",15),s.qZA(),s.qZA(),s.TgZ(90,"ion-item"),s.TgZ(91,"ion-label",6),s._uU(92,"Casa Asignada"),s.qZA(),s.TgZ(93,"ion-select",18),s.NdJ("ngModelChange",function(n){return o.contacto.home_id=n}),s.YNc(94,y,2,2,"ion-select-option",19),s.qZA(),s.qZA(),s._UZ(95,"ion-item-divider"),s.qZA(),s.qZA()),2&n&&(s.Q6J("translucent",!0),s.xp6(5),s.hij(" Editar ",o.contacto.fullname," "),s.xp6(9),s.Q6J("ngModel",o.contacto.firstname),s.xp6(4),s.Q6J("ngModel",o.contacto.lastname),s.xp6(7),s.Q6J("ngModel",o.birthday[2]),s.xp6(1),s.Q6J("ngForOf",o.days),s.xp6(2),s.Q6J("ngModel",o.birthday[1]),s.xp6(1),s.Q6J("ngForOf",s.lcZ(30,35,o.months)),s.xp6(3),s.Q6J("ngModel",o.birthday[0]),s.xp6(1),s.Q6J("ngForOf",o.years),s.xp6(7),s.Q6J("ngModel",o.profession_date[2]),s.xp6(1),s.Q6J("ngForOf",o.days),s.xp6(2),s.Q6J("ngModel",o.profession_date[1]),s.xp6(1),s.Q6J("ngForOf",s.lcZ(45,37,o.months)),s.xp6(3),s.Q6J("ngModel",o.profession_date[0]),s.xp6(1),s.Q6J("ngForOf",o.years),s.xp6(7),s.Q6J("ngModel",o.ordination_date[2]),s.xp6(1),s.Q6J("ngForOf",o.days),s.xp6(2),s.Q6J("ngModel",o.ordination_date[1]),s.xp6(1),s.Q6J("ngForOf",s.lcZ(60,39,o.months)),s.xp6(3),s.Q6J("ngModel",o.ordination_date[0]),s.xp6(1),s.Q6J("ngForOf",o.years),s.xp6(4),s.Q6J("ngModel",o.contacto.email_1),s.xp6(4),s.Q6J("ngModel",o.contacto.email_2),s.xp6(4),s.s9C("value",o.contacto.country_id),s.Q6J("ngModel",o.contacto.country_id),s.xp6(1),s.Q6J("ngForOf",o.countries),s.xp6(4),s.Q6J("ngModel",o.contacto.mobile),s.xp6(4),s.Q6J("ngModel",o.contacto.phone),s.xp6(4),s.s9C("value",o.contacto.lifestyle_id),s.Q6J("ngModel",o.contacto.lifestyle_id),s.xp6(1),s.Q6J("ngForOf",o.lifestyles),s.xp6(4),s.s9C("value",o.contacto.home_id),s.Q6J("ngModel",o.contacto.home_id),s.xp6(1),s.Q6J("ngForOf",o.homes))},directives:[c.Gu,c.sr,c.Sm,c.oU,c.cs,c.wd,c.YG,c.gu,c.W2,c.Ie,c.Q$,c.pK,c.j9,l.JJ,l.On,c.rH,c.Nd,c.wI,c.t9,c.QI,a.sg,c.n0],pipes:[a.Nd],styles:[".alert-radio-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{display:none!important}ion-item[_ngcontent-%COMP%]   ion-row.md[_ngcontent-%COMP%]{width:100%}ion-item[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{min-width:100%}.select-icon[_ngcontent-%COMP%]{transform:translateZ(0)!important}"]}),M)}],J=function(){var o=function o(){n(this,o)};return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=s.oAB({type:o}),o.\u0275inj=s.cJS({imports:[[r.Bz.forChild(C)],r.Bz]}),o}(),x=((b=function o(){n(this,o)}).\u0275fac=function(n){return new(n||b)},b.\u0275mod=s.oAB({type:b}),b.\u0275inj=s.cJS({imports:[[a.ez,l.u5,c.Pc,J]]}),b)}}])}();