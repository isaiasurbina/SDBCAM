(self.webpackChunkSDB_CAM=self.webpackChunkSDB_CAM||[]).push([[759],{759:function(e,n,o){"use strict";o.r(n),o.d(n,{EditPageModule:function(){return A}});var t=o(1116),i=o(1462),l=o(8809),a=o(6393),s=o(8619),r=o(3957),c=o(7354);function d(e,n){if(1&e&&(s.TgZ(0,"ion-select-option",24),s._uU(1),s.qZA()),2&e){const e=n.$implicit;s.s9C("value",e.id),s.xp6(1),s.Oqu(e.name)}}function u(e,n){if(1&e&&(s.TgZ(0,"ion-select-option",25),s._uU(1),s.qZA()),2&e){const e=n.$implicit;s.s9C("value",e),s.xp6(1),s.Oqu(e)}}function g(e,n){if(1&e&&(s.TgZ(0,"ion-select-option",25),s._uU(1),s.qZA()),2&e){const e=n.$implicit;s.s9C("value",e.value),s.xp6(1),s.Oqu(e.key)}}function h(e,n){if(1&e&&(s.TgZ(0,"ion-select-option",25),s._uU(1),s.qZA()),2&e){const e=n.$implicit;s.s9C("value",e),s.xp6(1),s.Oqu(e)}}function m(e,n){if(1&e&&(s.TgZ(0,"ion-select-option",24),s._uU(1),s.qZA()),2&e){const e=n.$implicit;s.s9C("value",e.id),s.xp6(1),s.Oqu(e.text)}}function p(e,n){if(1&e&&(s.TgZ(0,"ion-select-option",24),s._uU(1),s.qZA()),2&e){const e=n.$implicit;s.s9C("value",e.id),s.xp6(1),s.Oqu(e.text)}}function Z(e,n){if(1&e&&(s.TgZ(0,"ion-select-option",24),s._uU(1),s.qZA()),2&e){const e=n.$implicit;s.s9C("value",e.id),s.xp6(1),s.Oqu(e.text)}}function f(e,n){if(1&e){const e=s.EpF();s.TgZ(0,"ion-select-option",26),s.NdJ("selected",function(){const n=s.CHM(e).$implicit,o=s.oxw();return n.id==o.contacto.home_id}),s._uU(1),s.qZA()}if(2&e){const e=n.$implicit;s.s9C("value",e.id),s.xp6(1),s.Oqu(e.title)}}const _=[{path:"",component:(()=>{class e{constructor(e,n,o,t,i){this.rout=e,this.api=n,this.common=o,this.navCtrl=t,this.a_route=i,this.api_params={api_token:"",id:0},this.contacto={api_token:null,id:null,user_id:null,firstname:null,lastname:null,birthday:null,outside_inspectory_id:null,email_1:null,email_2:null,phone:null,formation_level:null,year_level:null,country_id:null,home_id:null,profile_pic_id:null,profesion_date:null,death_date:null,friendly_death_date:null,status:null,deleted_at:null,created_at:null,updated_at:null,fullname:"Cargando...",avatar:null,home_name:null,friendlyBday:null,friendly_profession_date:null,friendly_ordination_date:null,funciones:null},this.inspectorias=[],this.formationLevels=[],this.formationYears=[],this.homes=[],this.selected_home=0,this.roles=[],this.selected_role=0,this.lifestyles=[],this.selected_lifestyle=0,this.countries=[],this.selected_country=0,this.years=[],this.days=[],this.months={Enero:"01",Febrero:"02",Marzo:"03",Abril:"04",Mayo:"05",Junio:"06",Julio:"07",Agosto:"08",Septiembre:"09",Octubre:"10",Noviembre:"11",Diciembre:"12"},this.birthday=[],this.profession_date=[],this.ordination_date=[]}ngOnInit(){for(let e=1;e<32;e++)this.days.push(e);for(let e=1920;e<2021;e++)this.years.push(e)}ionViewWillEnter(){this.common.showloader(),this.api.send(this.api_params,"user/form-lists/get").subscribe(e=>this.bindFormLists(e),()=>this.onerror())}bindFormLists(e){this.countries=e.countries,this.lifestyles=e.lifestyles,this.inspectorias=e.inspectorias,this.formationLevels=e.formationLevels,this.formationYears=e.formationYears,this.homes=e.homes,this.roles=e.roles,this.a_route.queryParams.subscribe(e=>{this.api_params.id=e.id}),this.api.send(this.api_params,"formandos/getOne").subscribe(e=>this.bindContact(e),()=>this.onerror())}bindContact(e){this.contacto=e,this.birthday=this.contacto.birthday.split("-"),this.common.hideloader()}onerror(){this.common.hideloader(),this.common.toasting("Ha ocurrido un error, favor intenta m\xe1s tarde.")}save(){if(this.contacto.phone&&!this.checkPhone(this.contacto.phone))return!1;this.contacto.birthday=this.birthday[0]+"-"+this.birthday[1]+"-"+this.birthday[2],this.common.showloader(),this.api.send(this.contacto,"formandos/save").subscribe(e=>this.bindSave(e),()=>this.onerror())}checkPhone(e){return!(!e.match(/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/)&&!e.match(/^\(?([0-9]{3})\)?[-. ]?([0-9]{4})[-. ]?([0-9]{4})$/)&&(this.common.toasting("El formato del telefono ingresado no es valido favor usar (000) 0000000"),1))}bindSave(e){this.common.hideloader(),"success"==e.status?(this.common.toasting("Se ha guardado la informacion de tu perfil."),this.rout.navigate(["formando"],{queryParams:{id:this.contacto.id}})):this.onerror()}}return e.\u0275fac=function(n){return new(n||e)(s.Y36(a.F0),s.Y36(r.s),s.Y36(c.v),s.Y36(l.SH),s.Y36(a.gz))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-edit"]],decls:72,vars:30,consts:[[3,"translucent"],["slot","start"],["slot","start",1,"text-truncate"],["slot","end",3,"click"],["slot","icon-only","name","save-outline"],[1,"bg-sdb"],["position","floating"],["type","string","name","firstname",3,"ngModel","ngModelChange"],["name","country_id","id","country_id","placeholder","Seleccionar pa\xeds",3,"ngModel","value","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"bg-white"],["size","4"],["name","bday","placeholder","D\xeda",3,"ngModel","ngModelChange"],["required","",3,"value",4,"ngFor","ngForOf"],["name","bmonth","placeholder","Mes",3,"ngModel","ngModelChange"],["name","byear","placeholder","A\xf1o",3,"ngModel","ngModelChange"],["name","inspectoria","id","inspectoria","placeholder","Seleccionar...",3,"ngModel","value","ngModelChange"],["type","string","name","email_1",3,"ngModel","ngModelChange"],["type","string","name","email_2",3,"ngModel","ngModelChange"],["type","string","name","phone","placeholder","(000) 00000000",3,"ngModel","ngModelChange"],["name","formation_level","id","formation_level","placeholder","Seleccionar...",3,"ngModel","value","ngModelChange"],["name","formation_year","id","formation_year","placeholder","Seleccionar...",3,"ngModel","value","ngModelChange"],["name","home_id","placeholder","Seleccionar...",3,"ngModel","value","ngModelChange"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value"],["required","",3,"value"],[3,"value","selected"]],template:function(e,n){1&e&&(s.TgZ(0,"ion-header",0),s.TgZ(1,"ion-toolbar"),s.TgZ(2,"ion-buttons",1),s._UZ(3,"ion-back-button"),s.qZA(),s.TgZ(4,"ion-title",2),s._uU(5),s.qZA(),s.TgZ(6,"ion-buttons",3),s.NdJ("click",function(){return n.save()}),s.TgZ(7,"ion-button"),s._UZ(8,"ion-icon",4),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(9,"ion-content"),s.TgZ(10,"section",5),s.TgZ(11,"ion-item"),s.TgZ(12,"ion-label",6),s._uU(13,"Nombres"),s.qZA(),s.TgZ(14,"ion-input",7),s.NdJ("ngModelChange",function(e){return n.contacto.firstname=e}),s.qZA(),s.qZA(),s.TgZ(15,"ion-item"),s.TgZ(16,"ion-label",6),s._uU(17,"Apellidos"),s.qZA(),s.TgZ(18,"ion-input",7),s.NdJ("ngModelChange",function(e){return n.contacto.lastname=e}),s.qZA(),s.qZA(),s.TgZ(19,"ion-item"),s.TgZ(20,"ion-label",6),s._uU(21,"Country"),s.qZA(),s.TgZ(22,"ion-select",8),s.NdJ("ngModelChange",function(e){return n.contacto.country_id=e}),s.YNc(23,d,2,2,"ion-select-option",9),s.qZA(),s.qZA(),s.TgZ(24,"ion-item-divider"),s.TgZ(25,"ion-label"),s._uU(26,"Fecha de nacimiento"),s.qZA(),s.qZA(),s.TgZ(27,"ion-grid",10),s.TgZ(28,"ion-row"),s.TgZ(29,"ion-col",11),s.TgZ(30,"ion-select",12),s.NdJ("ngModelChange",function(e){return n.birthday[2]=e}),s.YNc(31,u,2,2,"ion-select-option",13),s.qZA(),s.qZA(),s.TgZ(32,"ion-col",11),s.TgZ(33,"ion-select",14),s.NdJ("ngModelChange",function(e){return n.birthday[1]=e}),s.YNc(34,g,2,2,"ion-select-option",13),s.ALo(35,"keyvalue"),s.qZA(),s.qZA(),s.TgZ(36,"ion-col",11),s.TgZ(37,"ion-select",15),s.NdJ("ngModelChange",function(e){return n.birthday[0]=e}),s.YNc(38,h,2,2,"ion-select-option",13),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(39,"ion-item"),s.TgZ(40,"ion-label",6),s._uU(41,"Inspector\xeda"),s.qZA(),s.TgZ(42,"ion-select",16),s.NdJ("ngModelChange",function(e){return n.contacto.outside_inspectory_id=e}),s.YNc(43,m,2,2,"ion-select-option",9),s.qZA(),s.qZA(),s.TgZ(44,"ion-item"),s.TgZ(45,"ion-label",6),s._uU(46,"Email 1"),s.qZA(),s.TgZ(47,"ion-input",17),s.NdJ("ngModelChange",function(e){return n.contacto.email_1=e}),s.qZA(),s.qZA(),s.TgZ(48,"ion-item"),s.TgZ(49,"ion-label",6),s._uU(50,"Email 2"),s.qZA(),s.TgZ(51,"ion-input",18),s.NdJ("ngModelChange",function(e){return n.contacto.email_2=e}),s.qZA(),s.qZA(),s.TgZ(52,"ion-item"),s.TgZ(53,"ion-label",6),s._uU(54,"Tel\xe9fono"),s.qZA(),s.TgZ(55,"ion-input",19),s.NdJ("ngModelChange",function(e){return n.contacto.phone=e}),s.qZA(),s.qZA(),s.TgZ(56,"ion-item"),s.TgZ(57,"ion-label",6),s._uU(58,"Nivel de formaci\xf3n"),s.qZA(),s.TgZ(59,"ion-select",20),s.NdJ("ngModelChange",function(e){return n.contacto.formation_level=e}),s.YNc(60,p,2,2,"ion-select-option",9),s.qZA(),s.qZA(),s.TgZ(61,"ion-item"),s.TgZ(62,"ion-label",6),s._uU(63,"A\xf1o de formaci\xf3n"),s.qZA(),s.TgZ(64,"ion-select",21),s.NdJ("ngModelChange",function(e){return n.contacto.year_level=e}),s.YNc(65,Z,2,2,"ion-select-option",9),s.qZA(),s.qZA(),s.TgZ(66,"ion-item"),s.TgZ(67,"ion-label",6),s._uU(68,"Casa Asignada"),s.qZA(),s.TgZ(69,"ion-select",22),s.NdJ("ngModelChange",function(e){return n.contacto.home_id=e}),s.YNc(70,f,2,2,"ion-select-option",23),s.qZA(),s.qZA(),s._UZ(71,"ion-item-divider"),s.qZA(),s.qZA()),2&e&&(s.Q6J("translucent",!0),s.xp6(5),s.hij(" Editar ",n.contacto.fullname," "),s.xp6(9),s.Q6J("ngModel",n.contacto.firstname),s.xp6(4),s.Q6J("ngModel",n.contacto.lastname),s.xp6(4),s.s9C("value",n.contacto.country_id),s.Q6J("ngModel",n.contacto.country_id),s.xp6(1),s.Q6J("ngForOf",n.countries),s.xp6(7),s.Q6J("ngModel",n.birthday[2]),s.xp6(1),s.Q6J("ngForOf",n.days),s.xp6(2),s.Q6J("ngModel",n.birthday[1]),s.xp6(1),s.Q6J("ngForOf",s.lcZ(35,28,n.months)),s.xp6(3),s.Q6J("ngModel",n.birthday[0]),s.xp6(1),s.Q6J("ngForOf",n.years),s.xp6(4),s.s9C("value",n.contacto.outside_inspectory_id),s.Q6J("ngModel",n.contacto.outside_inspectory_id),s.xp6(1),s.Q6J("ngForOf",n.inspectorias),s.xp6(4),s.Q6J("ngModel",n.contacto.email_1),s.xp6(4),s.Q6J("ngModel",n.contacto.email_2),s.xp6(4),s.Q6J("ngModel",n.contacto.phone),s.xp6(4),s.s9C("value",n.contacto.formation_level),s.Q6J("ngModel",n.contacto.formation_level),s.xp6(1),s.Q6J("ngForOf",n.formationLevels),s.xp6(4),s.s9C("value",n.contacto.year_level),s.Q6J("ngModel",n.contacto.year_level),s.xp6(1),s.Q6J("ngForOf",n.formationYears),s.xp6(4),s.s9C("value",n.contacto.home_id),s.Q6J("ngModel",n.contacto.home_id),s.xp6(1),s.Q6J("ngForOf",n.homes))},directives:[l.Gu,l.sr,l.Sm,l.oU,l.cs,l.wd,l.YG,l.gu,l.W2,l.Ie,l.Q$,l.pK,l.j9,i.JJ,i.On,l.t9,l.QI,t.sg,l.rH,l.jY,l.Nd,l.wI,l.n0],pipes:[t.Nd],styles:[""]}),e})()}];let q=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[a.Bz.forChild(_)],a.Bz]}),e})(),A=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[t.ez,i.u5,l.Pc,q]]}),e})()}}]);